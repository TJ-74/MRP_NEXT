{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/74run/my-next-app/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,4NAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,yLAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/74run/my-next-app/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2\",\r\n        sm: \"h-8 rounded-md px-3 text-xs\",\r\n        lg: \"h-10 rounded-md px-8\",\r\n        icon: \"h-9 w-9\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants } "],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,8OAAA,CAAA,MAAG,AAAD,EACvB,uOACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,4RAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wSAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,4TAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/74run/my-next-app/src/config/firebase.ts"],"sourcesContent":["'use client';\n\n// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, GoogleAuthProvider } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\nimport { Analytics, getAnalytics, isSupported } from \"firebase/analytics\";\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Initialize Firebase services\nconst auth = getAuth(app);\nconst db = getFirestore(app);\nconst storage = getStorage(app);\nconst googleProvider = new GoogleAuthProvider();\n\n// Initialize Analytics conditionally\nlet analytics: Analytics | null = null;\nif (typeof window !== 'undefined') {\n  isSupported().then(yes => yes && (analytics = getAnalytics(app)));\n}\n\nexport { auth, db, storage, googleProvider, analytics }; "],"names":[],"mappings":";;;;;;;AAWU;AATV,uDAAuD;AACvD;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAPA;;;;;;AASA,wCAAwC;AACxC,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,sBAAsB;AACtB,MAAM,MAAM,CAAA,GAAA,sPAAA,CAAA,gBAAa,AAAD,EAAE;AAE1B,+BAA+B;AAC/B,MAAM,OAAO,CAAA,GAAA,gTAAA,CAAA,UAAO,AAAD,EAAE;AACrB,MAAM,KAAK,CAAA,GAAA,8QAAA,CAAA,eAAY,AAAD,EAAE;AACxB,MAAM,UAAU,CAAA,GAAA,2QAAA,CAAA,aAAU,AAAD,EAAE;AAC3B,MAAM,iBAAiB,IAAI,2TAAA,CAAA,qBAAkB;AAE7C,qCAAqC;AACrC,IAAI,YAA8B;AAClC,wCAAmC;IACjC,CAAA,GAAA,uRAAA,CAAA,cAAW,AAAD,IAAI,IAAI,CAAC,CAAA,MAAO,OAAO,CAAC,YAAY,CAAA,GAAA,uRAAA,CAAA,eAAY,AAAD,EAAE,IAAI;AACjE","debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/74run/my-next-app/src/components/NavBar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Menu, X, User, LogOut} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { auth } from '@/config/firebase';\r\nimport { signOut } from 'firebase/auth';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nconst Navbar = () => {\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n    const router = useRouter();\r\n  \r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged((user) => {\r\n            setIsAuthenticated(!!user);\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            await signOut(auth);\r\n            router.push('/signin');\r\n        } catch (error) {\r\n            console.error('Error signing out:', error);\r\n        }\r\n    };\r\n\r\n    const toggleMenu = () => {\r\n      setIsMenuOpen(!isMenuOpen);\r\n    };\r\n  \r\n    return (\r\n      <nav className=\"bg-gray-800 border-b border-gray-700\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex items-center justify-between h-16\">\r\n            {/* Logo and primary nav */}\r\n            <div className=\"flex items-center\">\r\n              <div className=\"flex-shrink-0\">\r\n                <Link href=\"/\" className=\"text-white text-xl font-bold\">\r\n                  HealthSearch\r\n                </Link>\r\n              </div>\r\n              \r\n              {/* Desktop Navigation */}\r\n              <div className=\"hidden md:block\">\r\n                <div className=\"ml-10 flex items-center space-x-4\">\r\n                  <Link href=\"/\" className=\"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">\r\n                    Home\r\n                  </Link>\r\n                  <Link href=\"/searchform\" className=\"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">\r\n                    Find Price\r\n                  </Link>\r\n                  <Link href=\"/chat\" className=\"text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium\">\r\n                    AI Chat\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n  \r\n            {/* Right side buttons */}\r\n            <div className=\"hidden md:flex items-center space-x-4\">\r\n              {isAuthenticated ? (\r\n                <Button \r\n                  className=\"flex items-center space-x-2 bg-red-600 hover:bg-red-700\"\r\n                  onClick={handleLogout}\r\n                >\r\n                  <LogOut size={16} />\r\n                  <span>Logout</span>\r\n                </Button>\r\n              ) : (\r\n                <Button \r\n                  className=\"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700\"\r\n                  onClick={() => router.push('/signin')}\r\n                >\r\n                  <User size={16} />\r\n                  <span>Sign In</span>\r\n                </Button>\r\n              )}\r\n            </div>\r\n\r\n            {/* Mobile menu button */}\r\n            <div className=\"md:hidden flex items-center\">\r\n              <Button \r\n                variant=\"ghost\" \r\n                size=\"icon\"\r\n                className=\"text-gray-300 hover:text-white\"\r\n                onClick={toggleMenu}\r\n              >\r\n                {isMenuOpen ? <X size={24} /> : <Menu size={24} />}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n  \r\n        {/* Mobile menu */}\r\n        {isMenuOpen && (\r\n          <div className=\"md:hidden bg-gray-800 border-t border-gray-700\">\r\n            <div className=\"px-2 pt-2 pb-3 space-y-1\">\r\n              <Link href=\"/\" className=\"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">\r\n                Home\r\n              </Link>\r\n              <Link href=\"/searchform\" className=\"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">\r\n                Find Price\r\n              </Link>\r\n              <Link href=\"/chat\" className=\"text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium\">\r\n                AI Chat\r\n              </Link>\r\n            </div>\r\n            <div className=\"px-4 py-3 border-t border-gray-700\">\r\n              <div className=\"flex items-center justify-center\">\r\n                {isAuthenticated ? (\r\n                  <Button \r\n                    className=\"flex items-center space-x-2 bg-red-600 hover:bg-red-700\"\r\n                    onClick={handleLogout}\r\n                  >\r\n                    <LogOut size={16} />\r\n                    <span>Logout</span>\r\n                  </Button>\r\n                ) : (\r\n                  <Button \r\n                    className=\"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700\"\r\n                    onClick={() => router.push('/signin')}\r\n                  >\r\n                    <User size={16} />\r\n                    <span>Sign In</span>\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </nav>\r\n    );\r\n  };\r\n  \r\n  export default Navbar;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 499, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 505, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/74run/my-next-app/src/components/ChatMessage.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Bot, Check, CheckCircle2 } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport ReactMarkdown from 'react-markdown';\r\nimport remarkGfm from 'remark-gfm';\r\nimport type { Components } from 'react-markdown';\r\n\r\ninterface SearchResult {\r\n  id: string;\r\n  score: string;\r\n  text: string;\r\n  category?: string;\r\n}\r\n\r\ninterface ChatMessageProps {\r\n  id: string;\r\n  text: string;\r\n  sender: 'user' | 'ai' | 'system';\r\n  searchResults?: SearchResult[];\r\n  onMarkDone?: () => void;\r\n}\r\n\r\nconst MarkdownComponents: Components = {\r\n  p: ({ children }) => (\r\n    <p className=\"mb-2 last:mb-0\">{children}</p>\r\n  ),\r\n  ul: ({  children }) => (\r\n    <ul className=\"list-disc ml-4 mb-2\">{children}</ul>\r\n  ),\r\n  ol: ({ children }) => (\r\n    <ol className=\"list-decimal ml-4 mb-2\">{children}</ol>\r\n  ),\r\n  li: ({  children }) => (\r\n    <li className=\"mb-1\">{children}</li>\r\n  ),\r\n  h1: ({  children }) => (\r\n    <h1 className=\"text-xl font-bold mb-2\">{children}</h1>\r\n  ),\r\n  h2: ({  children }) => (\r\n    <h2 className=\"text-lg font-bold mb-2\">{children}</h2>\r\n  ),\r\n  h3: ({  children }) => (\r\n    <h3 className=\"text-md font-bold mb-2\">{children}</h3>\r\n  ),\r\n  strong: ({  children }) => (\r\n    <strong className=\"font-bold\">{children}</strong>\r\n  ),\r\n  em: ({  children }) => (\r\n    <em className=\"italic\">{children}</em>\r\n  ),\r\n  blockquote: ({  children }) => (\r\n    <blockquote className=\"border-l-2 border-gray-400 pl-4 my-2 italic\">\r\n      {children}\r\n    </blockquote>\r\n  ),\r\n};\r\n\r\nexport function ChatMessage({  text, sender, searchResults, onMarkDone }: ChatMessageProps) {\r\n  const [isDone, setIsDone] = useState(false);\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n  const handleMarkDone = () => {\r\n    setIsDone(true);\r\n    onMarkDone?.();\r\n  };\r\n\r\n  // Format the text to include markdown for better readability\r\n  const formatText = (text: string) => {\r\n    // Add line breaks between sentences\r\n    const formattedText = text.replace(/([.!?])\\s+/g, '$1\\n\\n');\r\n    \r\n    // Add bullet points for lists (if text contains items with numbers or dashes)\r\n    const withBullets = formattedText.replace(/^(\\d+\\.|-)(?!\\n)/gm, '\\n$1');\r\n    \r\n    return withBullets;\r\n  };\r\n\r\n  return (\r\n    <div className={`flex ${sender === 'user' ? 'justify-end' : 'justify-start'}`}>\r\n      <div\r\n        className={`max-w-[80%] rounded-lg px-4 py-2 flex flex-col ${\r\n          sender === 'user'\r\n            ? 'bg-blue-600 text-white'\r\n            : isDone\r\n            ? 'bg-green-700 text-white'\r\n            : 'bg-gray-700 text-white'\r\n        }`}\r\n      >\r\n        <div className=\"flex items-start justify-between gap-2\">\r\n          <div className=\"flex items-start\">\r\n            {(sender === 'ai' || sender === 'system') && (\r\n              <Bot className=\"mr-2 mt-1 flex-shrink-0\" size={16} />\r\n            )}\r\n            <div \r\n              className={`prose prose-invert max-w-none ${\r\n                !isExpanded && text.length > 300 ? 'cursor-pointer' : ''\r\n              }`}\r\n              onClick={() => text.length > 300 && setIsExpanded(!isExpanded)}\r\n            >\r\n              <div className=\"markdown-content\">\r\n                <ReactMarkdown\r\n                  remarkPlugins={[remarkGfm]}\r\n                  components={MarkdownComponents}\r\n                >\r\n                  {isExpanded || text.length <= 300 \r\n                    ? formatText(text)\r\n                    : formatText(text.slice(0, 300) + '... (Click to expand)')}\r\n                </ReactMarkdown>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {sender === 'ai' && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              className={`ml-2 p-1 h-6 ${isDone ? 'text-green-300' : 'text-gray-400 hover:text-white'}`}\r\n              onClick={handleMarkDone}\r\n              disabled={isDone}\r\n            >\r\n              {isDone ? (\r\n                <CheckCircle2 size={16} className=\"text-green-300\" />\r\n              ) : (\r\n                <Check size={16} />\r\n              )}\r\n            </Button>\r\n          )}\r\n        </div>\r\n\r\n        {searchResults && searchResults.length > 0 && (\r\n          <div className=\"mt-4 text-sm border-t border-gray-600 pt-4\">\r\n            <p className=\"text-gray-400 mb-3 font-medium\">Related Procedures:</p>\r\n            <div className=\"space-y-3\">\r\n              {searchResults.map((result, index) => (\r\n                <div\r\n                  key={result.id}\r\n                  className=\"bg-gray-800 rounded-md p-3 text-gray-300 hover:bg-gray-750 transition-colors\"\r\n                >\r\n                  <div className=\"flex items-start\">\r\n                    <span className=\"text-gray-400 mr-3 font-medium\">{index + 1}.</span>\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"prose prose-invert max-w-none text-sm\">\r\n                        <ReactMarkdown\r\n                          remarkPlugins={[remarkGfm]}\r\n                          components={MarkdownComponents}\r\n                        >\r\n                          {result.text}\r\n                        </ReactMarkdown>\r\n                      </div>\r\n                      <div className=\"flex items-center mt-2\">\r\n                        <span className=\"text-gray-400 text-xs px-2 py-1 bg-gray-700 rounded-full\">\r\n                          Relevance Score: {result.score}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 818, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 824, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/74run/my-next-app/src/app/chat/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Send } from 'lucide-react';\nimport Navbar from '@/components/NavBar';\nimport { ChatMessage } from '@/components/ChatMessage';\n\ninterface SearchResult {\n  id: string;\n  score: string;\n  text: string;\n  category?: string;\n}\n\ninterface Message {\n  id: string;\n  text: string;\n  sender: 'user' | 'ai' | 'system';\n  searchResults?: SearchResult[];\n  isDone?: boolean;\n}\n\ninterface AIResponse {\n  message: string;\n  searchResults: SearchResult[];\n}\n\nlet messageCounter = 0;\n\nexport default function Chat() {\n  const [input, setInput] = useState('');\n  const [messages, setMessages] = useState<Message[]>(() => [{\n    id: 'system-init',\n    text: \"Hello! I'm your healthcare assistant. How can I help you today?\",\n    sender: 'system',\n  }]);\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const handleMarkDone = (messageId: string) => {\n    setMessages(prev =>\n      prev.map(msg =>\n        msg.id === messageId ? { ...msg, isDone: true } : msg\n      )\n    );\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim() || isLoading) return;\n\n    setIsLoading(true);\n    const userMessage = input.trim();\n    setInput('');\n\n    messageCounter++;\n    const newUserMessage: Message = {\n      id: `msg-${messageCounter}`,\n      text: userMessage,\n      sender: 'user',\n    };\n    setMessages(prev => [...prev, newUserMessage]);\n\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          messages: [\n            {\n              role: 'user',\n              content: userMessage,\n            }\n          ],\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to get AI response');\n      }\n\n      const data = await response.json() as AIResponse;\n      messageCounter++;\n      const aiMessage: Message = {\n        id: `msg-${messageCounter}`,\n        text: data.message,\n        sender: 'ai',\n        searchResults: data.searchResults,\n      };\n      setMessages(prev => [...prev, aiMessage]);\n    } catch (error) {\n      console.error('Error sending message:', error);\n      messageCounter++;\n      const errorMessage: Message = {\n        id: `msg-${messageCounter}`,\n        text: error instanceof Error ? error.message : \"An unexpected error occurred.\",\n        sender: 'system',\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-900\">\n      <Navbar />\n      <div className=\"max-w-4xl mx-auto p-4\">\n        <div className=\"bg-gray-800 rounded-lg shadow-lg h-[calc(100vh-8rem)] flex flex-col\">\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n            {messages.length === 0 ? (\n              <div className=\"flex items-center justify-center h-full text-gray-400\">\n                <p>Start a conversation by sending a message!</p>\n              </div>\n            ) : (\n              messages.map((message) => (\n                <ChatMessage\n                  key={message.id}\n                  {...message}\n                  onMarkDone={() => handleMarkDone(message.id)}\n                />\n              ))\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"p-4 border-t border-gray-700\">\n            <div className=\"flex space-x-4\">\n              <input\n                type=\"text\"\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                placeholder=\"Type your message...\"\n                className=\"flex-1 bg-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                disabled={isLoading}\n              />\n              <Button\n                type=\"submit\"\n                disabled={isLoading || !input.trim()}\n                className={`bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center ${\n                  isLoading ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n              >\n                <Send size={20} />\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1054, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}